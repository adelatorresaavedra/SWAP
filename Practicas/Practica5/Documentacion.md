**Creación de base de datos e insertar datos**En todo momento usaremos la interfaz de línea de comandos del MySQL:**mysql -uroot -p****(imagen1)**mysql&gt; create database contactos;Query OK, 1 row affected (0,00 sec)mysql&gt; use contactos;Database changedmysql&gt; show tables;Empty set (0,00 sec)mysql&gt; create table datos(nombre varchar(100),tlf int);Query OK, 0 rows affected (0,01 sec)mysql&gt; show tables;mysql&gt; insert into datos(nombre,tlf) values (&quot;pepe&quot;,95834987);Query OK, 1 row affected (0,00 sec)mysql&gt; select \* from datos;mysql&gt; describe datos;mysql&gt; quit**(imagen2)****Replicar una BD MySQL con mysqldump**MySQL ofrece la una herramienta para clonar las BD que tenemos en nuestra máquina. Esta herramienta es mysqldump.La sintaxis de uso es:**sudo bash****mysqldump ejemplodb -u root -p &gt; /root/ejemplodb.sql**Esto puede ser suficiente, pero tenemos que tener en cuenta que los datos pueden estar actualizándose constantemente en el servidor de BD principal. En este caso, antes de hacer la copia de seguridad en el archivo .SQL debemos evitar que se acceda a la BD para cambiar nada. Así, en el servidor de BD principal (máquina 1) hacemos:**mysql -u root –p****mysql&gt; FLUSH TABLES WITH READ LOCK;****mysql&gt; quit****(imagen 4)**Ahora ya sí podemos hacer el mysqldump para guardar los datos. En el servidor principal (maquina1) hacemos:**mysqldump contactos -u root -p &gt; /tmp/contactos.sql**Como habíamos bloqueado las tablas, debemos desbloquearlas (quitar el &quot;LOCK&quot;):**mysql -u root –p****mysql&gt; UNLOCK TABLES;****mysql&gt; quit**Ya podemos ir a la máquina esclavo (maquina2, secundaria) para copiar el archivo .SQL con todos los datos salvados desde la máquina principal (maquina1):**scp maquina1:/tmp/ejemplodb.sql /tmp/****(imagen 5)**Con el archivo de copia de seguridad en el esclavo ya podemos importar la BD completa en el MySQL. Para ello, en un primer paso creamos la BD:**mysql -u root –p****mysql&gt; CREATE DATABASE contactos;****mysql&gt; quit****(imagen 6)**Y en un segundo paso restauramos los datos contenidos en la BD (se crearán las tablas en el proceso):**mysqldump contactos -u root -p &lt; /tmp/contactos.sql****(imagen 7)****Replicación de BD mediante una configuración maestro-esclavo.**Lo primero que debemos hacer es la configuración de mysql del maestro. Para ello editamos, como root, el **/etc/mysql/my.cnf** para realizar las modificaciones que se describen a continuación.Comentamos el parámetro bind-address que sirve para que escuche a un servidor:**#bind-address 127.0.0.1**Le indicamos el archivo donde almacenar el log de errores. De esta forma, si por ejemplo al reiniciar el servicio cometemos algún error en el archivo de configuración, en el archivo de log nos mostrará con detalle lo sucedido:**log\_error = /var/log/mysql/error.log**Establecemos el identificador del servidor.**server-id = 1**El registro binario contiene toda la información que está disponible en el registro de actualizaciones, en un formato más eficiente y de una manera que es segura para las transacciones:**log\_bin = /var/log/mysql/bin.log****(imagen 8)**Guardamos el documento y reiniciamos el servicio:**/etc/init.d/mysql restart****(imagen 9)**Si no nos ha dado ningún error la configuración del maestro, podemos pasar a hacer la configuración del mysql del esclavo (vamos a editar como root el /etc/mysql/my.cnf).La configuración es similar a la del maestro, con la diferencia de que el server-id en esta ocasión será 2.Reiniciamos el servicio en el esclavo:**/etc/init.d/mysql restart****(imagen 10)**y una vez más, si no da ningún error, habremos tenido éxito. Podemos volver al maestro para crear un usuario y darle permisos de acceso para la replicación. Entramos en mysql y ejecutamos las siguientes sentencias:**mysql&gt; CREATE USER esclavo IDENTIFIED BY &#39;esclavo&#39;;****mysql&gt; GRANT REPLICATION SLAVE ON**  **.**  **TO &#39;esclavo&#39;@&#39;%&#39;****IDENTIFIED BY &#39;esclavo&#39;;****mysql&gt; FLUSH PRIVILEGES;****mysql&gt; FLUSH TABLES;****mysql&gt; FLUSH TABLES WITH READ LOCK;**** (imagen 11 )**Volvemos a la máquina esclava, entramos en mysql y le damos los datos del maestro. Como indicábamos antes, sólo si trabajamos con versiones inferiores a mysql 5.5 estos datos se pueden introducir directamente en el archivo de configuración. Como lo más seguro es que estemos trabajando con una versión de mysql superior a la 5.5, entraremos en el entorno de mysql y ejecutamos la siguiente sentencia (ojo con la IP, con el valor de &quot;master\_log\_file&quot; y del &quot;master\_log\_pos&quot; del maestro):**mysql&gt; CHANGE MASTER TO MASTER\_HOST=&#39;192.168.31.200&#39;, MASTER\_USER=&#39;esclavo&#39;, MASTER\_PASSWORD=&#39;esclavo&#39;, MASTER\_LOG\_FILE=&#39;mysql-bin.000001&#39;, MASTER\_LOG\_POS=501, MASTER\_PORT=3306;****(imagen 12)**Por último, arrancamos el esclavo y ya está todo listo para que los demonios de MySQL de las dos máquinas repliquen automáticamente los datos que se introduzcan/modifiquen/borren en el servidor maestro:**mysql&gt; START SLAVE;**Ahora, podemos hacer pruebas en el maestro y deberían replicarse en el esclavo automáticamente.Por último, volvemos al maestro y volvemos a activar las tablas para que puedan meterse nuevos datos en el maestro:**mysql&gt; UNLOCK TABLES;**Ahora, si queremos asegurarnos de que todo funciona perfectamente y que el esclavo no tiene ningún problema para replicar la información, nos vamos al esclavo y con la siguiente orden:**mysql&gt; SHOW SLAVE STATUS\G**Revisamos si el valor de la variable &quot;Seconds\_Behind\_Master&quot; es distinto de &quot;null&quot;. En ese caso, todo estará funcionando perfectamente.Si no es así, es que hay algún error y los valores de las demás variables indicarán cuál es el problema y cómo arreglarlo para que todo funcione perfectamente. A continuación vemos que el valor de la variable &quot;Seconds\_Behind\_Master&quot; es 0, por lo que no hay ningún error y todo funciona como debe:**(IMAGEN 13)**